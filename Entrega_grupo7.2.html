<!DOCTYPE html>
<html lang="en"><head>
<script src="Entrega_grupo7.2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Entrega_grupo7.2_files/libs/quarto-html/tabby.min.js"></script>
<script src="Entrega_grupo7.2_files/libs/quarto-html/popper.min.js"></script>
<script src="Entrega_grupo7.2_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Entrega_grupo7.2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Entrega_grupo7.2_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Entrega_grupo7.2_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Entrega_grupo7.2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Mario Camacho, Diana CÃ¡ceres, Vicente Pantoja">
  <title>Entrega grupo 7</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Entrega_grupo7.2_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Entrega_grupo7.2_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Entrega_grupo7.2_files/libs/revealjs/dist/theme/quarto.css">
  <link href="Entrega_grupo7.2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Entrega_grupo7.2_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Entrega_grupo7.2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Entrega_grupo7.2_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Entrega grupo 7</h1>
  <p class="subtitle">Citas electorales al Congreso de los Diputados de EspaÃ±a</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Mario Camacho, Diana CÃ¡ceres, Vicente Pantoja 
</div>
</div>
</div>

</section>
<section id="entrega" class="slide level2">
<h2>Entrega</h2>
<p>La prÃ¡ctica versarÃ¡ entorno a los <strong>archivos de datos electorales</strong> que ya hemos trabajado, recopilando datos de citas electorales al Congreso de los Diputados de EspaÃ±a desde 2008 hasta 2019.</p>
</section>
<section id="bases-de-datos" class="slide level2">
<h2>Bases de datos</h2>
<p>Para el desarrollo del presente trabajo, se han considerado las siguientes bases de datos:</p>
<div class="columns">
<div class="column" style="width:37%;">
<p><img data-src="https://raw.githubusercontent.com/MarioC0093/Software_GRUPAL_7/main/Versiones%20finales/imagenes/lista_paquete.JPG"></p>
</div><div class="column" style="width:63%;">
<div>
<ul>
<li class="fragment"><p><strong>datos_elecciones</strong>: archivo con los datos electorales al Congreso desde 2.008 hasta las dos de 2.019.</p></li>
<li class="fragment"><p><strong>cod_mun</strong>: archivo con los cÃ³digos y nombres de cada municipio</p></li>
<li class="fragment"><p><strong>siglas</strong>: siglas y nombres asociados a cada partido</p></li>
<li class="fragment"><p><strong>encuestas</strong>: tabla de encuestas electorales desde 1.982.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="datos-elecciones" class="slide level2">
<h2>DATOS ELECCIONES</h2>
<p>Esta base de datoses un tibble de 48.737 x 471 lo que impide su comprensiÃ³n y un correcto anÃ¡lisis de datos.</p>
<ul>
<li><p>Pivot longer: es preferible una columna con todos los partidos polÃ­ticos y otra con el nÃºmero de votos de cada uno en cada municipio en cada una de las elecciones</p></li>
<li><p>Datos eliminados:</p></li>
</ul>
<p>Valores NA: partidos que no han recibido votos en esas elecciones, NA no significa que sea un dato faltante si no que no ha recibido ningÃºn voto</p>
<p>Columnas que no aportan informaciÃ³n, es decir, aquellas que tengan un Ãºnico valor/constante: tipo elecciÃ³n, cÃ³digo distrito electoral y vuelta.</p>
</section>
<section id="datos-elecciones-1" class="slide level2">
<h2>Datos elecciones</h2>
<p>Se obtiene un tibble de 14 columnas.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã 14
   anno mes   codigo_ccaa codigo_provincia codigo_municipio numero_mesas censo
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;
1  2008 03    14          01               001                         2  1838
2  2008 03    14          01               001                         2  1838
3  2008 03    14          01               001                         2  1838
4  2008 03    14          01               001                         2  1838
5  2008 03    14          01               001                         2  1838
6  2008 03    14          01               001                         2  1838
# â¹ 7 more variables: participacion_1 &lt;dbl&gt;, participacion_2 &lt;dbl&gt;,
#   votos_blancos &lt;dbl&gt;, votos_nulos &lt;dbl&gt;, votos_candidaturas &lt;dbl&gt;,
#   partido_politico &lt;chr&gt;, votos &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Se crean dos nuevas columnas.</p>
<ul>
<li><em>fecha</em> (identificador de las elecciones)</li>
<li><em>id_mun</em> (funciona como id para unir las bases de datos datos_elecciones y cod_mun)</li>
</ul>
<p>Se eliminan las columnas <em>anno</em>, <em>mes</em>, <em>codigo_provincia</em> y <em>codigo_municipioâ</em> pero se mantiene la columna <em>codigo_ccaa</em>.</p>
</section>
<section id="cÃ³digos-municipios" class="slide level2">
<h2>CÃDIGOS MUNICIPIOS</h2>
<p>Unimos las tablas <em>datos_elecciones</em> y <em>cod_mun</em> a fin de que en la base final aparezca el nombre de los municipios.</p>
<p>La unificaciÃ³n estas dos bases de datos es necesaria para poder realizar anÃ¡lisis geogrÃ¡ficos.</p>

<img data-src="https://raw.githubusercontent.com/MarioC0093/Software_GRUPAL_7/main/Versiones%20finales/imagenes/mapa_banderas.jpg" class="r-stretch"></section>
<section id="siglas" class="slide level2">
<h2>SIGLAS</h2>
<p>Se normalizan las siglas de los partidos polÃ­ticos. Por ejemplo, tres denominaciones de ConvergÃ¨ncia i UniÃ³ se unifican en unas Ãºnicas siglas para agrupar la informaciÃ³n de este partido.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã 3
  denominacion                          siglas siglas_new
  &lt;chr&gt;                                 &lt;chr&gt;  &lt;chr&gt;     
1 CONVERGENCIA I UNIO                   CIU    CiU       
2 CONVERGENCIA i UNIO                   CiU    CiU       
3 CONVERGÃNCIA DEMOCRÃTICA DE CATALUNYA CDC    CiU       </code></pre>
</div>
</div>
<p>Se realiza la siguiente normalizaciÃ³n:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>siglas <span class="ot">&lt;-</span> siglas <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(<span class="at">siglas=</span><span class="fu">case_when</span>(<span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(denominacion), <span class="st">".*part.*popul|pp"</span>) <span class="sc">~</span> <span class="st">"PP"</span>,</span>
<span id="cb3-3"><a href="#cb3-3"></a>                          <span class="co"># P.P-E.U. nos interesa como PP</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>                          <span class="co"># listas conjuntas con el Partido Popular en las elecciones municipales y autonÃ³micas de 2007</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>                          <span class="co"># en las elecciones generales de 2011 se presentÃ³ en coaliciÃ³n con el Partido Popular</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(denominacion), <span class="st">"^part.*socialist|^socialist.*teruel"</span>) <span class="sc">~</span> <span class="st">"PSOE"</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(denominacion), <span class="st">"^ciudadanos.*partido|^ciutadans"</span>) <span class="sc">~</span> <span class="st">"C's"</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(denominacion), <span class="st">"vasco"</span>) <span class="sc">~</span> <span class="st">"PNV"</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(siglas), <span class="st">"bng"</span>) <span class="sc">~</span> <span class="st">"BNG"</span>,</span>
<span id="cb3-10"><a href="#cb3-10"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(siglas), <span class="st">"comprom"</span>) <span class="sc">&amp;</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>                            <span class="sc">!</span><span class="fu">str_detect</span>(siglas,<span class="st">"^0-9"</span>)<span class="sc">~</span> <span class="st">"COMPROMÃS"</span>, <span class="co"># para evitar COMPROMÃS 2</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(denominacion), <span class="st">"^conver.*uni|^conver.*cata"</span>) <span class="sc">~</span> <span class="st">"CiU"</span>,</span>
<span id="cb3-13"><a href="#cb3-13"></a>                          <span class="co"># El 19 de septiembre de 1978 [Convergencia DemocrÃ¡tica de CataluÃ±a] se coalizÃ³ con UniÃ³ DemocrÃ tica de Catalunya</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>                          <span class="co"># El 18 de junio de 2015 ConvergÃ¨ncia DemocrÃ tica de Catalunya anunciÃ³ el fin de ConvergÃ¨ncia i UniÃ³ </span></span>
<span id="cb3-15"><a href="#cb3-15"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(denominacion), <span class="st">"VERDES|PODEM|EZKER|COMUNISTA|ZQUIERDA REPUBLICANA</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="st">                                     |VERDS|IZQUIERDA UNIDA|EN MAREA|UNIDAD POPULAR|EQUO"</span>) <span class="sc">&amp;</span> <span class="co"># importante que el | estÃ© en esta lÃ­nea y no al final de la anterior</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>                            <span class="sc">!</span><span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(stringi<span class="sc">::</span><span class="fu">stri_trans_general</span>(denominacion, <span class="at">id =</span> <span class="st">"Latin-ASCII"</span>)), <span class="st">"MAS PAIS"</span>) <span class="sc">~</span> <span class="st">"UP"</span>,</span>
<span id="cb3-18"><a href="#cb3-18"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(siglas), <span class="st">"erc"</span>) <span class="sc">|</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>                            <span class="fu">str_detect</span>(<span class="fu">tolower</span>(denominacion), <span class="st">"esquerra republicana"</span>) <span class="sc">~</span> <span class="st">"ERC"</span>,</span>
<span id="cb3-20"><a href="#cb3-20"></a>                          <span class="co"># FRONT PEL PAIS VALENCIA-ERC --&gt; ERC</span></span>
<span id="cb3-21"><a href="#cb3-21"></a>                          <span class="co"># https://www.vilaweb.cat/noticia/1142933/20000710/front-pais-valencia-fusionara-erc.pdf</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(denominacion), <span class="st">"EH|EUSKO|ARALAR"</span>) <span class="sc">|</span> </span>
<span id="cb3-23"><a href="#cb3-23"></a>                            <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(siglas), <span class="st">"EH|EUSKO|ARALAR"</span>)<span class="sc">~</span> <span class="st">"EH - BILDU"</span>,</span>
<span id="cb3-24"><a href="#cb3-24"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(stringi<span class="sc">::</span><span class="fu">stri_trans_general</span>(denominacion, <span class="at">id =</span> <span class="st">"Latin-ASCII"</span>)), <span class="st">"MAS PAIS"</span>) <span class="sc">~</span> <span class="st">"MÃS PAÃS"</span>,</span>
<span id="cb3-25"><a href="#cb3-25"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(denominacion), <span class="st">"VOX"</span>) <span class="sc">~</span> <span class="st">"VOX"</span>,</span>
<span id="cb3-26"><a href="#cb3-26"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Otros"</span>),</span>
<span id="cb3-27"><a href="#cb3-27"></a>         <span class="at">.after =</span> denominacion)</span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a>siglas <span class="ot">&lt;-</span> siglas <span class="sc">|&gt;</span>  </span>
<span id="cb3-30"><a href="#cb3-30"></a>  <span class="fu">select</span>(denominacion, siglas) <span class="sc">|&gt;</span>  </span>
<span id="cb3-31"><a href="#cb3-31"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="siglas-1" class="slide level2">
<h2>Siglas</h2>
<p>Se procede a aÃ±adir las siglas de los partidos a la tabla de datos_encuestas.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 121 Ã 2
   partido_politico                                                       siglas
   &lt;chr&gt;                                                                  &lt;chr&gt; 
 1 ALTERNATIVA MOTOR Y DEPORTE                                            &lt;NA&gt;  
 2 BIDEZKO MUNDURANTZ-POR UN MUNDO MÃS JUSTO                              &lt;NA&gt;  
 3 BIDEZKO MUNDURANTZ/POR UN MUNDO MAS JUSTO                              &lt;NA&gt;  
 4 CHUNTA ARAGONESISTA-IZQUIERDA UNIDA, La Izquierda de AragÃ³n: La Izquiâ¦ &lt;NA&gt;  
 5 CIUDADANOS PARTIDO DE LA CIUDADANIA                                    &lt;NA&gt;  
 6 CIUDADANOS PARTIDO DE LA CIUDADANÃA                                    &lt;NA&gt;  
 7 CIUDADANOS, PARTIDO DE LA CIUDADANÃA                                   &lt;NA&gt;  
 8 CIUDADANOS-PARTIDO DE LA CIUDADANÃA (C's)                              &lt;NA&gt;  
 9 CIUTADANS - PARTIDO DE LA CIUDADANÃA                                   &lt;NA&gt;  
10 CIUTADANS, PARTIDO DE LA CIUDADANÃA                                    &lt;NA&gt;  
# â¹ 111 more rows</code></pre>
</div>
</div>
<p>No todos los partidos polÃ­ticos de la base de datos de elecciones se encuentran en la base de datos de siglas.</p>
<p>La tabla de dimensiones <em>siglas</em> no nos es Ãºtil por no abarcar todas las casuÃ­sticas de la tabla de hechos. Realizamos la normalizaciÃ³n directamente sobre la base de datos de <em>elecciones</em>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>datos_elecciones <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">mutate</span>(<span class="at">siglas =</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">".*part.*popul|pp"</span>) <span class="sc">~</span> <span class="st">"PP"</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>                          <span class="co"># P.P-E.U. nos interesa como PP</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>                          <span class="co"># listas conjuntas con el Partido Popular en las elecciones municipales y autonÃ³micas de 2007</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>                          <span class="co"># en las elecciones generales de 2011 se presentÃ³ en coaliciÃ³n con el Partido Popular</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"^part.*socialist|^socialist.*teruel"</span>) <span class="sc">~</span> <span class="st">"PSOE"</span>,</span>
<span id="cb5-7"><a href="#cb5-7"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"^ciudadanos.*partido|^ciutadans"</span>) <span class="sc">~</span> <span class="st">"C's"</span>,</span>
<span id="cb5-8"><a href="#cb5-8"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"vasco"</span>) <span class="sc">~</span> <span class="st">"PNV"</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"galego"</span>) <span class="sc">~</span> <span class="st">"BNG"</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"comprom"</span>) <span class="sc">&amp;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>                            <span class="sc">!</span><span class="fu">str_detect</span>(partido_politico,<span class="st">"^0-9"</span>)<span class="sc">~</span> <span class="st">"COMPROMÃS"</span>, <span class="co"># para evitar COMPROMÃS 2</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"^conver.*uni|^conver.*cata"</span>) <span class="sc">~</span> <span class="st">"CiU"</span>,</span>
<span id="cb5-13"><a href="#cb5-13"></a>                          <span class="co"># El 19 de septiembre de 1978 [Convergencia DemocrÃ¡tica de CataluÃ±a] se coalizÃ³ con UniÃ³ DemocrÃ tica de Catalunya</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>                          <span class="co"># El 18 de junio de 2015 ConvergÃ¨ncia DemocrÃ tica de Catalunya anunciÃ³ el fin de ConvergÃ¨ncia i UniÃ³ </span></span>
<span id="cb5-15"><a href="#cb5-15"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(partido_politico), <span class="st">"VERDES|PODEM|EZKER|COMUNISTA|ZQUIERDA REPUBLICANA</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="st">                                     |VERDS|IZQUIERDA UNIDA|EN MAREA|UNIDAD POPULAR|EQUO"</span>) <span class="sc">&amp;</span> <span class="co"># importante que el | estÃ© en esta lÃ­nea y no al final de la anterior</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>                            <span class="sc">!</span><span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(stringi<span class="sc">::</span><span class="fu">stri_trans_general</span>(partido_politico, <span class="at">id =</span> <span class="st">"Latin-ASCII"</span>)), <span class="st">"MAS PAIS"</span>) <span class="sc">~</span> <span class="st">"UP"</span>,</span>
<span id="cb5-18"><a href="#cb5-18"></a>                          partido_politico <span class="sc">==</span> <span class="st">"IU"</span> <span class="sc">~</span> <span class="st">"UP"</span>,</span>
<span id="cb5-19"><a href="#cb5-19"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(partido_politico), <span class="st">"erc"</span>) <span class="sc">|</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>                            <span class="fu">str_detect</span>(<span class="fu">tolower</span>(partido_politico), <span class="st">"esquerra republicana"</span>) <span class="sc">~</span> <span class="st">"ERC"</span>,</span>
<span id="cb5-21"><a href="#cb5-21"></a>                          <span class="co"># FRONT PEL PAIS VALENCIA-ERC --&gt; ERC</span></span>
<span id="cb5-22"><a href="#cb5-22"></a>                          <span class="co"># https://www.vilaweb.cat/noticia/1142933/20000710/front-pais-valencia-fusionara-erc.pdf</span></span>
<span id="cb5-23"><a href="#cb5-23"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(partido_politico), <span class="st">"EH|EUSKO|ARALAR"</span>) <span class="sc">|</span> </span>
<span id="cb5-24"><a href="#cb5-24"></a>                            <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(partido_politico), <span class="st">"EH|EUSKO|ARALAR"</span>)<span class="sc">~</span> <span class="st">"EH - BILDU"</span>,</span>
<span id="cb5-25"><a href="#cb5-25"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(stringi<span class="sc">::</span><span class="fu">stri_trans_general</span>(partido_politico, <span class="at">id =</span> <span class="st">"Latin-ASCII"</span>)), <span class="st">"MAS PAIS"</span>) <span class="sc">~</span> <span class="st">"MÃS PAÃS"</span>,</span>
<span id="cb5-26"><a href="#cb5-26"></a>                          <span class="fu">str_detect</span>(<span class="fu">str_to_upper</span>(partido_politico), <span class="st">"VOX"</span>) <span class="sc">~</span> <span class="st">"VOX"</span>,</span>
<span id="cb5-27"><a href="#cb5-27"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Otros"</span>)) <span class="co">#</span></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co">#|&gt;   select(partido_politico)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="siglas-2" class="slide level2">
<h2>Siglas</h2>
<p>Con los nombre de los partidos polÃ­ticos estandarizados a una lista de trece siglas (facor siglas), agrupamos la informaciÃ³n que antes estaba a nivel de partido polÃ­tico a nivel de siglas.</p>
<p>Seleccionamos una muestra aleatoria del dataset y vemos de quÃ© forma es mÃ¡s rÃ¡pida la agrupaciÃ³n de la informaciÃ³n:</p>
<ul>
<li>summarise con todas las columnas en el by (se agrega directamente la informaciÃ³n).</li>
<li>mutate con las columnas que sirven de identificador del dato y posterior distinct (se calcula la informaciÃ³n agrupada y luego se quitan datos duplicados).</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   codigo_ccaa `Freq muestra(n)` `Freq muestra(%)`
  &lt;glue&gt;  &lt;chr&gt;                   &lt;int&gt;             &lt;dbl&gt;
1 2019-11 01                       7752              11.6
2 2019-11 02                       5087               7.6
3 2019-11 03                        827               1.2
4 2019-11 04                        716               1.1
5 2019-11 05                       1251               1.9</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   codigo_ccaa `Freq muestra(n)` `Freq muestra(%)`
  &lt;glue&gt;  &lt;chr&gt;                   &lt;int&gt;             &lt;dbl&gt;
1 2019-11 01                        387              11.6
2 2019-11 02                        254               7.6
3 2019-11 03                         41               1.2
4 2019-11 04                         35               1.1
5 2019-11 05                         62               1.9</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="siglas-3" class="slide level2">
<h2>Siglas</h2>
<p>La funciÃ³n microbenchmark, nos permite comparar el tiempo de ejecuciÃ³n entre dos expresiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">microbenchmark</span>(sample_1 <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">votos =</span> <span class="fu">sum</span>(votos), <span class="at">.by=</span><span class="fu">everything</span>()[<span class="sc">!</span> <span class="fu">everything</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'votos'</span>)]) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>(),</span>
<span id="cb8-2"><a href="#cb8-2"></a>               sample_1 <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">votos =</span> <span class="fu">sum</span>(votos), <span class="at">.by=</span><span class="fu">c</span>(fecha, cod_mun, siglas)) <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span><span class="fu">ungroup</span>(),</span>
<span id="cb8-3"><a href="#cb8-3"></a>               <span class="at">times=</span><span class="dv">1</span>) <span class="co"># AUMENTAR A 100 EN LA EJECUCCIÃN FINAL DE LAS DIAPOS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: milliseconds
                                                                                                     expr
 ungroup(summarise(sample_1, votos = sum(votos), .by = everything()[!everything() %in%      c("votos")]))
            ungroup(distinct(mutate(sample_1, votos = sum(votos), .by = c(fecha,      cod_mun, siglas))))
     min      lq    mean  median      uq     max neval
 43.4022 43.4022 43.4022 43.4022 43.4022 43.4022     1
 49.6740 49.6740 49.6740 49.6740 49.6740 49.6740     1</code></pre>
</div>
</div>
<p>De acuerdo a la simulaciÃ³n realizada, se concluye que la funciÃ³n summarise permite realizar el desarrollo en un tiempo menor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>datos_elecciones <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">summarise</span>(<span class="at">votos =</span> <span class="fu">sum</span>(votos), <span class="at">.by=</span><span class="fu">everything</span>()[<span class="sc">!</span> <span class="fu">everything</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'votos'</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="limpieza-de-datos" class="slide level2">
<h2>LIMPIEZA DE DATOS</h2>
<p>Se crea un dataset con informaciÃ³n a nivel municipio con el identificador de este y datos de censo electoral, nÃºmero de mesas electorales y participaciÃ³n para cada fecha.</p>
<p>Para algunas variables numÃ©ricas se hace una trasformaciÃ³n logarÃ­tma debido a su gran dispersiÃ³n. Las variables calculadas en porcentajes tiene valores extremos que en realidad son datos incoherentes (mayor nÃºmero de votos que censados).</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-19-1.png" width="960" class="r-stretch"></section>
<section id="limpieza-de-datos-1" class="slide level2">
<h2>Limpieza de datos</h2>
<p>TambiÃ©n se encuentran datos de participaciÃ³n errÃ³neos como:</p>
<ul>
<li>Datos de participaciÃ³n mayores a 1.<br>
</li>
<li>Datos del primer avance superiores al segundo avances / datos del primer avance superior a 1.<br>
</li>
<li>Datos del segundo avance a cero.</li>
</ul>
<p>En la primera casuÃ­stica, eliminamos los registros donde el nÃºmero de votos es superior al nÃºmero de censados. (solo dos registros)</p>
<p>Los casos donde tanto el primer como el segundo avance es cero, se dan por vÃ¡lidos ya que el censo electoral de esos municipios es muy pequeÃ±o (vamos a suponer que todos los censados del pueblo fueron a votar a Ãºltima hora).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">filter</span>(p_participacion_1 <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> p_participacion_2 <span class="sc">==</span> <span class="dv">0</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">select</span>(fecha, cod_mun, censo, p_participacion_1, p_participacion_2, p_votos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã 6
  fecha   cod_mun   censo p_participacion_1 p_participacion_2 p_votos
  &lt;ord&gt;   &lt;glue&gt;    &lt;dbl&gt;             &lt;dbl&gt;             &lt;dbl&gt;   &lt;dbl&gt;
1 2011-11 07-45-080     3                 0                 0   1    
2 2019-04 08-42-011    17                 0                 0   0.647
3 2019-11 07-45-080     3                 0                 0   1    </code></pre>
</div>
</div>
</section>
<section id="limpieza-de-datos-2" class="slide level2">
<h2>Limpieza de datos</h2>
<p>En los casos donde el dato del primer avance es superior al segundo se buscan municipios similares a Ã©l y se sustituye su dato de participaciÃ³n por la media de estos municipios similares. Hacemos el mismo trabajo para casos donde el dato del primer avance es superior a uno.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">filter</span>(p_participacion_1 <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">|</span> p_participacion_1 <span class="sc">&gt;</span> p_participacion_2) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">select</span>(fecha, cod_mun, censo, p_participacion_1, p_participacion_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 Ã 5
   fecha   cod_mun   censo p_participacion_1 p_participacion_2
   &lt;ord&gt;   &lt;glue&gt;    &lt;dbl&gt;             &lt;dbl&gt;             &lt;dbl&gt;
 1 2008-03 08-09-384   310            0.890             0.806 
 2 2008-03 07-16-276    27           10.2               0.741 
 3 2008-03 07-19-104    19            0.316             0.263 
 4 2008-03 16-26-086    22            1.05              1.05  
 5 2008-03 16-26-115    19            1.11              1.11  
 6 2008-03 02-44-009   804            0.419             0.0995
 7 2008-03 02-44-112   510            0.694             0.653 
 8 2011-11 07-19-048    18            0.333             0.167 
 9 2011-11 07-19-322    35            1                 0.6   
10 2016-06 07-19-321    39            1                 0     
11 2016-06 11-32-004  1798            0.387             0.239 
12 2019-04 02-22-044   234            0.880             0     
13 2019-04 02-22-151    88            1                 0     
14 2019-04 13-31-093   275            1                 0     
15 2019-04 08-40-161    35            0.0571            0     
16 2019-04 08-49-201   285            0.835             0     
17 2019-11 01-29-063   305            0.764             0     </code></pre>
</div>
</div>
<p></p>
</section>
<section id="limpieza-de-datos-3" class="slide level2">
<h2>Limpieza de datos</h2>
<ol type="1">
<li>DeclaraciÃ³n de la funciÃ³n:</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>correcion_df <span class="ot">&lt;-</span> <span class="cf">function</span>(data, cond_errata){</span>
<span id="cb15-2"><a href="#cb15-2"></a>  a <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> <span class="fu">filter</span>( <span class="fu">eval</span>(<span class="fu">parse</span>(<span class="at">text=</span>cond_errata)) )</span>
<span id="cb15-3"><a href="#cb15-3"></a>  </span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">return</span>(<span class="fu">as_tibble</span>(a))</span>
<span id="cb15-5"><a href="#cb15-5"></a>}</span>
<span id="cb15-6"><a href="#cb15-6"></a></span>
<span id="cb15-7"><a href="#cb15-7"></a>correcion_dato_censal <span class="ot">&lt;-</span> <span class="cf">function</span>(data, var_errata, fecha_errata, mun_errata){</span>
<span id="cb15-8"><a href="#cb15-8"></a>  </span>
<span id="cb15-9"><a href="#cb15-9"></a>  censo_errata <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb15-10"><a href="#cb15-10"></a>    <span class="fu">filter</span>(fecha<span class="sc">==</span>fecha_errata <span class="sc">&amp;</span> cod_mun <span class="sc">==</span> mun_errata) <span class="sc">|&gt;</span> </span>
<span id="cb15-11"><a href="#cb15-11"></a>    <span class="fu">select</span>(censo) <span class="sc">|&gt;</span> </span>
<span id="cb15-12"><a href="#cb15-12"></a>    <span class="fu">pull</span>()</span>
<span id="cb15-13"><a href="#cb15-13"></a>  </span>
<span id="cb15-14"><a href="#cb15-14"></a>  part_2_tope <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb15-15"><a href="#cb15-15"></a>    <span class="fu">filter</span>(fecha<span class="sc">==</span>fecha_errata <span class="sc">&amp;</span> cod_mun <span class="sc">==</span> mun_errata) <span class="sc">|&gt;</span> </span>
<span id="cb15-16"><a href="#cb15-16"></a>    <span class="fu">select</span>(p_participacion_2) <span class="sc">|&gt;</span> </span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="fu">pull</span>()</span>
<span id="cb15-18"><a href="#cb15-18"></a>  </span>
<span id="cb15-19"><a href="#cb15-19"></a>  varlor_new <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb15-20"><a href="#cb15-20"></a>    <span class="fu">filter</span>(fecha <span class="sc">==</span> fecha_errata <span class="sc">&amp;</span> cod_mun <span class="sc">!=</span> mun_errata <span class="sc">&amp;</span> <span class="fu">eval</span>(<span class="fu">parse</span>(<span class="at">text=</span>var_errata)) <span class="sc">&lt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> p_participacion_2 <span class="sc">&lt;=</span> part_2_tope) <span class="sc">|&gt;</span></span>
<span id="cb15-21"><a href="#cb15-21"></a>    <span class="fu">filter</span>(<span class="fu">between</span>(censo,</span>
<span id="cb15-22"><a href="#cb15-22"></a>                   censo_errata <span class="sc">-</span> censo_errata <span class="sc">*</span> <span class="fl">0.1</span>,</span>
<span id="cb15-23"><a href="#cb15-23"></a>                   censo_errata <span class="sc">+</span> censo_errata <span class="sc">*</span> <span class="fl">0.1</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-24"><a href="#cb15-24"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(var_errata)) <span class="sc">|&gt;</span> </span>
<span id="cb15-25"><a href="#cb15-25"></a>    <span class="fu">sapply</span>(, <span class="at">FUN =</span> <span class="st">"mean"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-26"><a href="#cb15-26"></a>  </span>
<span id="cb15-27"><a href="#cb15-27"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(varlor_new)) { varlor_new <span class="ot">=</span> part_2_tope}</span>
<span id="cb15-28"><a href="#cb15-28"></a>  <span class="cf">if</span> (varlor_new <span class="sc">&gt;</span> part_2_tope) { varlor_new <span class="ot">=</span> part_2_tope}</span>
<span id="cb15-29"><a href="#cb15-29"></a>  <span class="co"># print de validaciÃ³n</span></span>
<span id="cb15-30"><a href="#cb15-30"></a>  <span class="co"># print(data |&gt; filter(fecha==fecha_errata &amp; cod_mun!=mun_errata &amp; eval(parse(text=var_errata))&lt;=1) |&gt;</span></span>
<span id="cb15-31"><a href="#cb15-31"></a>  <span class="co">#         filter(between(censo,</span></span>
<span id="cb15-32"><a href="#cb15-32"></a>  <span class="co">#                        censo_errata-censo_errata*0.10,</span></span>
<span id="cb15-33"><a href="#cb15-33"></a>  <span class="co">#                        censo_errata+censo_errata*0.10)) |&gt; select(fecha,cod_mun,censo,var_errata) |&gt; </span></span>
<span id="cb15-34"><a href="#cb15-34"></a>  <span class="co">#         mutate(val1=censo_errata-censo_errata*0.10,val2=censo_errata+censo_errata*0.10))</span></span>
<span id="cb15-35"><a href="#cb15-35"></a>  </span>
<span id="cb15-36"><a href="#cb15-36"></a>  <span class="fu">return</span>(varlor_new)</span>
<span id="cb15-37"><a href="#cb15-37"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="2" type="1">
<li>AplicaciÃ³n de la funciÃ³n:</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>cond_errata_1 <span class="ot">=</span> <span class="st">"(p_participacion_1&gt;1 | p_participacion_1&gt;p_participacion_2)"</span></span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a>new_data <span class="ot">&lt;-</span> </span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="fu">correcion_df</span>(datos_elecciones_maestra,cond_errata_1) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="fu">mutate</span>(<span class="at">p_participacion_1 =</span> <span class="fu">correcion_dato_censal</span>(<span class="at">data =</span> datos_elecciones_maestra, <span class="co"># corrijo con la base de datos original</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>                                                   <span class="at">var_errata =</span> <span class="st">"p_participacion_1"</span>,</span>
<span id="cb16-7"><a href="#cb16-7"></a>                                                   <span class="at">fecha_errata =</span> fecha,</span>
<span id="cb16-8"><a href="#cb16-8"></a>                                                   <span class="at">mun_errata =</span> cod_mun),</span>
<span id="cb16-9"><a href="#cb16-9"></a>         <span class="at">.by =</span> <span class="fu">c</span>(fecha, cod_mun))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="3" type="1">
<li>CorrecciÃ³n de base de datos original:</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>datos_elecciones_maestra <span class="ot">&lt;-</span> datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">anti_join</span>(new_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"fecha"</span>, <span class="st">"cod_mun"</span>))</span>
<span id="cb17-3"><a href="#cb17-3"></a>datos_elecciones_maestra <span class="ot">&lt;-</span> <span class="fu">rbind</span>(datos_elecciones_maestra, new_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="4" type="1">
<li>ComprobaciÃ³n de registros con la base obtenida.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>datos_elecciones_maestra <span class="ot">&lt;-</span> datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">anti_join</span>(new_data, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"fecha"</span>, <span class="st">"cod_mun"</span>))</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>datos_elecciones_maestra <span class="ot">&lt;-</span> <span class="fu">rbind</span>(datos_elecciones_maestra,new_data)</span>
<span id="cb18-5"><a href="#cb18-5"></a></span>
<span id="cb18-6"><a href="#cb18-6"></a>datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">filter</span>(p_participacion_1<span class="sc">&gt;</span><span class="dv">1</span> <span class="sc">|</span> p_participacion_1 <span class="sc">&gt;</span> p_participacion_2) <span class="sc">|&gt;</span> </span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">select</span>(fecha, cod_mun, censo, p_participacion_1, p_participacion_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 Ã 5
# â¹ 5 variables: fecha &lt;ord&gt;, cod_mun &lt;glue&gt;, censo &lt;dbl&gt;,
#   p_participacion_1 &lt;dbl&gt;, p_participacion_2 &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">filter</span>(p_participacion_1 <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> p_participacion_2 <span class="sc">==</span> <span class="dv">0</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">select</span>(fecha, cod_mun, censo, p_participacion_1, p_participacion_2, p_votos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 Ã 6
# â¹ 6 variables: fecha &lt;ord&gt;, cod_mun &lt;glue&gt;, censo &lt;dbl&gt;,
#   p_participacion_1 &lt;dbl&gt;, p_participacion_2 &lt;dbl&gt;, p_votos &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="limpieza-de-datos-4" class="slide level2">
<h2>Limpieza de datos</h2>
<ol start="5" type="1">
<li>Resultado.</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>datos_elecciones_maestra <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">filter</span>(p_participacion_1<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> p_participacion_2 <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">select</span>(fecha, cod_mun, censo, p_participacion_1, p_participacion_2, p_votos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 Ã 6
   fecha   cod_mun   censo p_participacion_1 p_participacion_2 p_votos
   &lt;ord&gt;   &lt;glue&gt;    &lt;dbl&gt;             &lt;dbl&gt;             &lt;dbl&gt;   &lt;dbl&gt;
 1 2011-11 07-45-080     3                 0                 0   1    
 2 2019-04 08-42-011    17                 0                 0   0.647
 3 2019-11 07-45-080     3                 0                 0   1    
 4 2016-06 07-19-321    39                 0                 0   0.769
 5 2019-04 02-22-044   234                 0                 0   0.786
 6 2019-04 02-22-151    88                 0                 0   0.75 
 7 2019-04 13-31-093   275                 0                 0   0.771
 8 2019-04 08-40-161    35                 0                 0   0.8  
 9 2019-04 08-49-201   285                 0                 0   0.853
10 2019-11 01-29-063   305                 0                 0   0.8  </code></pre>
</div>
</div>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-29-1.png" width="960" class="r-stretch"></section>
<section id="encuestas" class="slide level2">
<h2>ENCUESTAS</h2>
<ul>
<li><p>Filtros.</p>
<ul>
<li>Hagan referencia a elecciones anteriores a 2.008.</li>
<li>Sean a pie de urna.</li>
<li>Tengan un tamaÃ±o muestral inferior a 750 o que sea desconocido.</li>
<li>Tengan menos de 1 o menos dÃ­as de trabajo de campo.</li>
</ul></li>
</ul>
<ul>
<li>Datos eliminados.
<ul>
<li>Columnas con valor Ãºnico.</li>
<li>Columnas sin valores informados. (partidos polÃ­ticos con toda la informaciÃ³n a NA)</li>
<li>Se eliminan las columnas: tipo_eleccion, vuelta, codigo_distrito_electoral.</li>
</ul></li>
</ul>
<ul>
<li>Se transforma la base de datos encuestas a formato tidy.</li>
</ul>
<ul>
<li>Normalizamos los nombre de los partidos de manera anÃ¡loga a la base de datos de votaciones.</li>
</ul>
</section>
<section>
<section id="anÃ¡lisis-de-votaciones" class="title-slide slide level1 center">
<h1>ANÃLISIS DE VOTACIONES</h1>
<p>Los datasets finales con los que trabajaremos en el anÃ¡lisis son encuestas y datos_elecciones, que son dos tibbles y estÃ¡n en formato tidy, lo que nos ayudarÃ¡ a realizar los anÃ¡lisis correspondientes. Se eligiÃ³ este formato por las siguientes razones:</p>
<ul>
<li><p>Los nombres de las columnas de un tibble hacen que los datos sean mÃ¡s fÃ¡ciles de entender.</p></li>
<li><p>Los tipos de datos especÃ­ficos de los valores de un tibble ayudan a prevenir errores, con los que se trabaja en el anÃ¡lisis son adecuados para el estudio propuesto.</p></li>
<li><p>Permiten el uso de pipes y tidyverse.</p></li>
</ul>
<p></p>
</section>
<section id="anÃ¡lisis-de-votaciones-1" class="slide level2">
<h2>AnÃ¡lisis de votaciones</h2>
<p>Los datasets que contienen los datos necesarios para analizar la evoluciÃ³n de la opiniÃ³n pÃºblica en EspaÃ±a desde 2.008 son: <strong>encuestas</strong> tibble de dimensiÃ³n <u>13379*10</u> y <strong>datos_elecciones</strong>, tibble de dimensiÃ³n <u>367241*13</u>.</p>
<p>AdemÃ¡s las siglas las hemos definido de acuerdo a las indicaciones seÃ±aladas, excluyendo la base de datos âsiglasâ debido a no tener datos completos para el presente estudio, considerando que no abarca todos los partidos politicos que sugiere el proyecto.</p>
<p>Tampoco necesitamos el dataset cod_mun ya que hemos aÃ±adido su informaciÃ³n a datos_elecciones.</p>
<div class="cell">
<pre><code>## # A tibble: 6 Ã 11
##   date_elec  id_pollster pollster media      field_date_from field_date_to  size
##   &lt;date&gt;     &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;date&gt;          &lt;date&gt;        &lt;dbl&gt;
## 1 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## 2 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## 3 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## 4 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## 5 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## 6 2008-03-09 pollster-49 GESOP    EL PERIÃDâ¦ 2008-03-05      2008-03-07     1000
## # â¹ 4 more variables: turnout &lt;dbl&gt;, partido_politico &lt;chr&gt;,
## #   estimacion_votos &lt;dbl&gt;, siglas &lt;fct&gt;</code></pre>
</div>
<div class="cell">
<pre><code>## # A tibble: 6 Ã 15
##   fecha   cod_mun   municipio    codigo_ccaa codigo_provincia numero_mesas censo
##   &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;
## 1 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## 2 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## 3 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## 4 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## 5 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## 6 2008-03 14-01-001 AlegrÃ­a-Dulâ¦ 14          01                          2  1838
## # â¹ 8 more variables: participacion_1 &lt;dbl&gt;, participacion_2 &lt;dbl&gt;,
## #   votos_blancos &lt;dbl&gt;, votos_nulos &lt;dbl&gt;, votos_candidaturas &lt;dbl&gt;,
## #   partido_politico &lt;chr&gt;, votos &lt;dbl&gt;, siglas &lt;fct&gt;</code></pre>
</div>
</section>
<section id="anÃ¡lisis-de-votaciones-2" class="slide level2">
<h2>AnÃ¡lisis de votaciones</h2>
<p>El anÃ¡lisis es principalmente a travÃ©s de dataviz y con informaciÃ³n de los partidos polÃ­ticos. Definimos los colores con los que vamos a representar a cada uno de los partidos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co">#ColocaciÃ³n de colores para cada sigla segÃºn su color oficial</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>datos_elecciones <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">mutate</span>(<span class="at">color_politico =</span> <span class="fu">case_when</span>(siglas <span class="sc">==</span> <span class="st">"PP"</span> <span class="sc">~</span> <span class="st">"#3399FF"</span>,</span>
<span id="cb26-4"><a href="#cb26-4"></a>                         siglas <span class="sc">==</span> <span class="st">"PSOE"</span> <span class="sc">~</span> <span class="st">"#F6350B"</span>,</span>
<span id="cb26-5"><a href="#cb26-5"></a>                         siglas <span class="sc">==</span> <span class="st">"C's"</span> <span class="sc">~</span> <span class="st">"#FF5824"</span>,</span>
<span id="cb26-6"><a href="#cb26-6"></a>                         siglas <span class="sc">==</span> <span class="st">"PNV"</span> <span class="sc">~</span> <span class="st">"#008135"</span>,</span>
<span id="cb26-7"><a href="#cb26-7"></a>                         siglas <span class="sc">==</span> <span class="st">"BNG"</span> <span class="sc">~</span> <span class="st">"#76b3dd"</span>,</span>
<span id="cb26-8"><a href="#cb26-8"></a>                         siglas <span class="sc">==</span> <span class="st">"COMPROMÃS"</span> <span class="sc">~</span> <span class="st">"#de6c25"</span>,</span>
<span id="cb26-9"><a href="#cb26-9"></a>                         siglas <span class="sc">==</span> <span class="st">"CiU"</span> <span class="sc">~</span> <span class="st">"#FF0000"</span>,</span>
<span id="cb26-10"><a href="#cb26-10"></a>                         siglas <span class="sc">==</span> <span class="st">"UP"</span> <span class="sc">~</span> <span class="st">"#6D50B3"</span>,</span>
<span id="cb26-11"><a href="#cb26-11"></a>                         siglas <span class="sc">==</span> <span class="st">"ERC"</span> <span class="sc">~</span> <span class="st">"#ffbf41"</span>,</span>
<span id="cb26-12"><a href="#cb26-12"></a>                         siglas <span class="sc">==</span> <span class="st">"EH - BILDU"</span> <span class="sc">~</span> <span class="st">"#00bda1"</span>,</span>
<span id="cb26-13"><a href="#cb26-13"></a>                         siglas <span class="sc">==</span> <span class="st">"MÃS PAÃS"</span> <span class="sc">~</span> <span class="st">"#E61455"</span>,</span>
<span id="cb26-14"><a href="#cb26-14"></a>                         siglas <span class="sc">==</span> <span class="st">"VOX"</span> <span class="sc">~</span> <span class="st">"#73B446"</span>,</span>
<span id="cb26-15"><a href="#cb26-15"></a>                         <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"#462B25"</span>))</span>
<span id="cb26-16"><a href="#cb26-16"></a></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="co">#GeneraciÃ³n de tibble con colores para cada sigla segÃºn su color oficial</span></span>
<span id="cb26-18"><a href="#cb26-18"></a>colores_politicos <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb26-19"><a href="#cb26-19"></a>  <span class="fu">distinct</span>(siglas) <span class="sc">|&gt;</span> </span>
<span id="cb26-20"><a href="#cb26-20"></a>  <span class="fu">mutate</span>(<span class="at">color_politico=</span><span class="fu">case_when</span>(siglas <span class="sc">==</span> <span class="st">"BNG"</span> <span class="sc">~</span> <span class="st">"#76b3dd"</span>,</span>
<span id="cb26-21"><a href="#cb26-21"></a>                                  siglas <span class="sc">==</span> <span class="st">"C's"</span> <span class="sc">~</span> <span class="st">"#FF5824"</span>,</span>
<span id="cb26-22"><a href="#cb26-22"></a>                                  siglas <span class="sc">==</span> <span class="st">"CiU"</span> <span class="sc">~</span> <span class="st">"#FF0000"</span>,</span>
<span id="cb26-23"><a href="#cb26-23"></a>                                  siglas <span class="sc">==</span> <span class="st">"COMPROMÃS"</span> <span class="sc">~</span> <span class="st">"#de6c25"</span>,</span>
<span id="cb26-24"><a href="#cb26-24"></a>                                  siglas <span class="sc">==</span> <span class="st">"EH - BILDU"</span> <span class="sc">~</span> <span class="st">"#00bda1"</span>,</span>
<span id="cb26-25"><a href="#cb26-25"></a>                                  siglas <span class="sc">==</span> <span class="st">"ERC"</span> <span class="sc">~</span> <span class="st">"#ffbf41"</span>,</span>
<span id="cb26-26"><a href="#cb26-26"></a>                                  siglas <span class="sc">==</span> <span class="st">"MÃS PAÃS"</span> <span class="sc">~</span> <span class="st">"#E61455"</span>,</span>
<span id="cb26-27"><a href="#cb26-27"></a>                                  siglas <span class="sc">==</span> <span class="st">"PNV"</span> <span class="sc">~</span> <span class="st">"#008135"</span>,</span>
<span id="cb26-28"><a href="#cb26-28"></a>                                  siglas <span class="sc">==</span> <span class="st">"PP"</span> <span class="sc">~</span> <span class="st">"#3399FF"</span>,</span>
<span id="cb26-29"><a href="#cb26-29"></a>                                  siglas <span class="sc">==</span> <span class="st">"PSOE"</span> <span class="sc">~</span> <span class="st">"#F6350B"</span>,</span>
<span id="cb26-30"><a href="#cb26-30"></a>                                  siglas <span class="sc">==</span> <span class="st">"UP"</span> <span class="sc">~</span> <span class="st">"#6D50B3"</span>,</span>
<span id="cb26-31"><a href="#cb26-31"></a>                                  siglas <span class="sc">==</span> <span class="st">"VOX"</span> <span class="sc">~</span> <span class="st">"#73B446"</span>,</span>
<span id="cb26-32"><a href="#cb26-32"></a>                                  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"#462B25"</span>))</span>
<span id="cb26-33"><a href="#cb26-33"></a></span>
<span id="cb26-34"><a href="#cb26-34"></a></span>
<span id="cb26-35"><a href="#cb26-35"></a>cols <span class="ot">&lt;-</span> rlang<span class="sc">::</span><span class="fu">set_names</span>(colores_politicos<span class="sc">$</span>color_politico, </span>
<span id="cb26-36"><a href="#cb26-36"></a>                         colores_politicos<span class="sc">$</span>siglas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># Censo total en cada elecciÃ³n</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>maestra_censo <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span> <span class="fu">distinct</span>(fecha, cod_mun, censo) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">censo=</span><span class="fu">sum</span>(censo), <span class="at">.by =</span> fecha)</span>
<span id="cb27-3"><a href="#cb27-3"></a></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co"># Total de votos por sigla en cada uno de las fechas (agupamos todos los votos de todos los municipios)</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>data_1 <span class="ot">&lt;-</span> datos_elecciones <span class="sc">|&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6"></a>  <span class="fu">summarise</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos), <span class="at">.by =</span> <span class="fu">c</span>(fecha, siglas, color_politico)) <span class="sc">|&gt;</span> </span>
<span id="cb27-7"><a href="#cb27-7"></a>  <span class="fu">left_join</span>(maestra_censo, <span class="at">by =</span> <span class="st">"fecha"</span>)</span>
<span id="cb27-8"><a href="#cb27-8"></a>  <span class="co"># left_join(datos_elecciones |&gt; distinct(fecha, cod_mun, censo) |&gt; summarise(censo=sum(censo), .by = fecha), by = "fecha")</span></span>
<span id="cb27-9"><a href="#cb27-9"></a></span>
<span id="cb27-10"><a href="#cb27-10"></a>min_votos <span class="ot">&lt;-</span> data_1 <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos), <span class="at">.by=</span>fecha) <span class="sc">|&gt;</span> </span>
<span id="cb27-11"><a href="#cb27-11"></a>  <span class="fu">summarise</span>(<span class="at">min_v=</span><span class="fu">min</span>(votos)) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span>
<span id="cb27-12"><a href="#cb27-12"></a></span>
<span id="cb27-13"><a href="#cb27-13"></a>participacion <span class="ot">&lt;-</span> data_1 <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">participacion=</span><span class="fu">sum</span>(votos)<span class="sc">/</span><span class="fu">max</span>(censo), <span class="at">.by=</span>fecha)</span>
<span id="cb27-14"><a href="#cb27-14"></a></span>
<span id="cb27-15"><a href="#cb27-15"></a>p_votos <span class="ot">&lt;-</span> data_1 <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">votos =</span> <span class="fu">sum</span>(votos), <span class="at">.by=</span>fecha) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(maestra_censo, <span class="at">by =</span> <span class="st">"fecha"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-16"><a href="#cb27-16"></a>  <span class="fu">mutate</span>(<span class="at">p_votos =</span> votos<span class="sc">/</span>censo) <span class="sc">|&gt;</span> <span class="fu">select</span>(p_votos) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section></section>
<section id="anÃ¡lisis-de-votaciones-en-espaÃ±a-en-el-rango-2008---2019" class="title-slide slide level1 center">
<h1>AnÃ¡lisis de votaciones en EspaÃ±a en el rango 2008 - 2019</h1>
<p>En EspaÃ±a se han realizado 6 votaciones en el rango de aÃ±os de 2.008 a 2.019. Para analizar estas votaciones, se utilizaron <strong>datos electorales</strong> y de participaciÃ³n y nÃºmero de votos. Se utilizaron las <strong>encuestas electorales</strong> desde 2.008 incluyendo sus casas encuestadoras, la fecha de las futuras elecciones y el tipo de encuesta.</p>
</section>

<section>
<section id="participaciÃ³n" class="title-slide slide level1 center">
<h1>ParticipaciÃ³n</h1>
<p>El nÃºmero de votos siempre se ha mantenido por encima de 23754401 votos pero, Â¿cuÃ¡nto ha supuesto este nÃºmero de votos sobre el total de la poblaciÃ³n?</p>
<p>Comparando la participaciÃ³n con el censo para cada una de las elecciones:</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-39-1.png" width="960" class="r-stretch"><p>El nÃºmero de censados aumenta y la participaciÃ³n parece que va a la baja, aunque con seis evaluaciones no se puede afirmar con seguridad. Al comienzo de 2019 hay un repunte de la participaciÃ³n, pero de nuevo vuelve a bajar, posiblemente por el âaburrimientoâ de volver a votar en ese mismo aÃ±o.</p>
</section>
<section id="peso-de-no-votantes-versus-el-total-de-votos" class="slide level2">
<h2>Peso de no votantes versus el total de votos</h2>
<p>Miramos el peso que han tenido las personas censadas que no han votado versus el total de votos por cada una de las elecciones.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-40-1.gif" class="r-stretch"></section>
<section id="peso-de-no-votantes-versus-el-total-de-votos-1" class="slide level2">
<h2>Peso de no votantes versus el total de votos</h2>
<p>Al igual que al inicio veÃ­amos los votos recibidos por cada partida, ahora incluÃ­mos ese <em>no voto</em> como una representatividad mÃ¡s.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-41-1.png" width="960" class="r-stretch"></section>
<section id="peso-de-no-votantes-versus-el-total-de-votos-2" class="slide level2">
<h2>Peso de no votantes versus el total de votos</h2>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-43-1.png" width="960" class="r-stretch"></section>
<section id="distribuciÃ³n-de-votos" class="slide level2">
<h2>DistribuciÃ³n de votos</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>EspaÃ±a cuenta en la actualidad con 6 partidos polÃ­ticos de corte nacional, y 6 partidos polÃ­ticos de estatus autonÃ³mico o nacionalista. Su concentraciÃ³n de voto en cada una de las elecciones se pueden apreciar en el siguiente grÃ¡fico.</p>
</div><div class="column" style="width:50%;">
<p>Hasta el 2.011 la dominancia de los partidos de corte nacional fue superior al 80 %, disminuyÃ³ entre las votaciones del 2.015 a abril del 2.019 a valores del 71 % - 75 %, y en la siguiente votaciÃ³n volviÃ³ a aumentar al 78 %.</p>
</div>
</div>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-44-1.png" width="960" class="r-stretch"></section>
<section id="votaciones-en-municipios-con-mayor-censo" class="slide level2">
<h2>Votaciones en municipios con mayor censo</h2>
<p>Se trata de 48 municipios con mÃ¡s de 100.000 censados.</p>
<p>Vemos la distribucion del total de votos en estos municipios en cada una de las elecciones.</p>
<p>El peso de los partidos de Ã¡mbito nacional se mantiene.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-46-1.png" width="960" class="r-stretch"></section>
<section id="votaciones-en-municipios-con-mayor-censo-1" class="slide level2">
<h2>Votaciones en municipios con mayor censo</h2>
<p>Misma representaciÃ³n para los 48 municipios con mÃ¡s de 100.000 censados pero a nivel de partido polÃ­tico y no en funciÃ³n del Ã¡mbito.</p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-48-1.png" width="960"></p>
</div>
</div>
</div><div class="column" style="width:30%;">
<p>ProporciÃ³n de votos del partido mÃ¡s votado en estos municipios en cada fecha.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã 3
# Groups:   fecha [6]
  fecha   siglas  prop
  &lt;ord&gt;   &lt;fct&gt;  &lt;dbl&gt;
1 2008-03 PSOE    0.43
2 2011-11 PP      0.46
3 2015-12 PP      0.29
4 2016-06 PP      0.33
5 2019-04 PSOE    0.28
6 2019-11 PSOE    0.28</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="partido-ganador-por-elecciÃ³n" class="slide level2">
<h2>Partido ganador por elecciÃ³n</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Bajamos ahora a nivel municipio para ver el primer y segundo partido mÃ¡s votado.
<ul>
<li>No excluÃ­mos a ningÃºn municipio en funciÃ³n del censo.</li>
</ul></li>
<li>Visualmente.
<ul>
<li>Se aprecia que cuando el PP queda en primer lugar el partido que mÃ¡s veces estÃ¡ en segundo puesto es el PSOE. Y viceversa.</li>
</ul></li>
</ul>
<div class="cell">
<pre><code>## # A tibble: 98,595 Ã 4
##    fecha   cod_mun   siglas votos
##    &lt;ord&gt;   &lt;glue&gt;    &lt;fct&gt;  &lt;dbl&gt;
##  1 2008-03 01-04-001 PSOE     512
##  2 2008-03 01-04-001 PP       382
##  3 2008-03 01-04-002 PSOE     532
##  4 2008-03 01-04-002 PP       340
##  5 2008-03 01-04-003 PP      7632
##  6 2008-03 01-04-003 PSOE    4261
##  7 2008-03 01-04-004 PSOE     269
##  8 2008-03 01-04-004 PP       106
##  9 2008-03 01-04-005 PSOE     236
## 10 2008-03 01-04-005 PP       191
## # â¹ 98,585 more rows</code></pre>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li><p>No tenemos manera de deshacer un empate de votos.</p>
<ul>
<li>Permitimos tener mÃ¡s de un partido en primera posiciÃ³n.</li>
<li>Todos los partidos que estÃ©n en primera posiciÃ³n ocuparÃ¡n tanto el primer como el segundo puesto.</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã 6
  fecha   cod_mun   codigo_ccaa siglas votos posicion  
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt;     
1 2015-12 07-19-010 07          PP         2 MÃ¡s votado
2 2015-12 07-19-010 07          PSOE       2 MÃ¡s votado
3 2015-12 07-19-010 07          VOX        2 MÃ¡s votado
4 2015-12 07-19-010 07          C's        2 MÃ¡s votado</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã 6
  fecha   cod_mun   codigo_ccaa siglas votos posicion          
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt;             
1 2015-12 07-19-010 07          PP         2 Segundo mÃ¡s votado
2 2015-12 07-19-010 07          PSOE       2 Segundo mÃ¡s votado
3 2015-12 07-19-010 07          VOX        2 Segundo mÃ¡s votado
4 2015-12 07-19-010 07          C's        2 Segundo mÃ¡s votado</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="partido-ganador-por-elecciÃ³n-1" class="slide level2">
<h2>Partido ganador por elecciÃ³n</h2>
<p>Vemos la relaciÃ³n entre el partido mÃ¡s votado y el segundo, teniendo en cuenta todos los municipios para todas las elecciones. Visualmente se aprecia que cuando el PP queda en primer lugar el partido que mÃ¡s veces estÃ¡ en segundo puesto es el PSOE. Y viceversa. Cuando el PSOE ocupa la primera posiciÃ³n en votos el partido que mÃ¡s veces estÃ¡ tras Ã©l es el PP.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-53-1.png" width="960" class="r-stretch"></section>
<section id="partido-ganador-por-elecciÃ³n-2" class="slide level2">
<h2>Partido ganador por elecciÃ³n</h2>
<p>Vemos un pequeÃ±o flujo residual que va de PSOE en primera posiciÃ³n a PSOE en segunda posiciÃ³n. Esto se debe a los casos de empate en el partido mÃ¡s votado donde decidÃ­amos poner a ambos partidos como primer y segundo partido mÃ¡s votado.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-54-1.png" width="960" class="r-stretch"></section>
<section id="bipartidismo" class="slide level2">
<h2>Bipartidismo</h2>
<p>Al momento de comparar la primera votaciÃ³n con la Ãºltima reportada, podemos evidenciar que la tendencia bipartidista ha decrecido, en parte por la apariciÃ³n de nuevos partidos y tendencias polÃ­ticas</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-55-1.png" width="960" class="r-stretch"></section>
<section id="bipartidismo-1" class="slide level2">
<h2>Bipartidismo</h2>
<p>Al momento de comparar la primera votaciÃ³n con la Ãºltima reportada, podemos evidenciar que la tendencia bipartidista ha decrecido, en parte por la apariciÃ³n de nuevos partidos y tendencias polÃ­ticas</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-56-1.png" width="960" class="r-stretch"></section>
<section id="diferencias-entre-primer-y-segundo-partido" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>DÃ³nde la diferencia entre el primer y el segundo partido es mÃ¡xima.</p></li>
<li><p>Solo interesa municipios donde el censo sea alto: 2.000 censados en adelante.</p></li>
<li><p>En estos municipios de mayor censo sabemos que si vemos una diferencia de pocos votos es realmente un resultado ajustado, ya que no es lo mismo una diferencia de escasos votos en un municipio con pocos censados que esa misma diferencia en un municipio con muchos censados.</p></li>
<li><p>Trabajamos con medidas repetidas para un mismo municipio (un dato para cada una de las elecciones).</p></li>
<li><p>No agrupamos la informaciÃ³n: queremos identificar municipios-fecha con la mayor diferencia en votos.0.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p>Porcentaje de municipios con censo electoral menor a 2.000:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã 6
  `2008-03` `2011-11` `2015-12` `2016-06` `2019-04` `2019-11`
      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1     0.761     0.760     0.762     0.762     0.762     0.762</code></pre>
</div>
</div>
<p>CasuÃ­sticas:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 Ã 7
# Groups:   2008-03, 2011-11, 2015-12, 2016-06, 2019-04 [25]
   `2008-03` `2011-11` `2015-12` `2016-06` `2019-04` `2019-11`     n
       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;
 1         0         0         0         0         0         0  1867
 2         0         0         0         0         0         1     5
 3         0         0         0         0         1         0     2
 4         0         0         0         0         1         1    11
 5         0         0         0         0        NA        NA     1
 6         0         0         0         1         0         0     1
 7         0         0         0         1         1         1     2
 8         0         0         1         1         1         1    22
 9         0         0        NA        NA        NA        NA     2
10         0         1         0         1         1         1     1
11         0         1         1         1         1         1    23
12         0         1         1         1        NA        NA     1
13         1         0         0         0         0         0    29
14         1         0         1         1         0         0     1
15         1         1         0         0         0         0    12
16         1         1         0         1         0         0     1
17         1         1         1         0         0         0     3
18         1         1         1         1         0         0    10
19         1         1         1         1         1         0     3
20         1         1         1         1         1         1  6114
21         1         1         1         1        NA         1     1
22        NA         0         0         0         0         0     2
23        NA         1         1         1         1         1     2
24        NA        NA         0         0         0         0     2
25        NA        NA         1         1         1         1     7
26        NA        NA        NA         1         1         1     2
27        NA        NA        NA        NA         0         0     1
28        NA        NA        NA        NA         1         1     7</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="diferencias-entre-primer-y-segundo-partido-1" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<p><strong>HIGHLIGHT</strong></p>
<p>El municipio de Cesuras (La CoruÃ±a) tiene datos solo para 2008-03 y 2011-11 a pesar de tener un censo y censo electoral superior a 2.000.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã 5
  fecha   cod_mun   municipio censo votos_candidaturas
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;     &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 11-15-026 Cesuras    2089               1435
2 2011-11 11-15-026 Cesuras    2025               1396</code></pre>
</div>
</div>
<p>Esto es debido a que en 2.013 se crea el municipio Oza-Cesuras como fusiÃ³n de los municipios de Oza de los RÃ­os y Cesuras.</p>
<!-- \[![Cesuras](https://raw.githubusercontent.com/MarioC0093/Software_GRUPAL_7/main/Versiones%20finales/imagenes/censo_Cesuras.JPG)\]{width=25px} -->
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>datos_elecciones <span class="sc">|&gt;</span> <span class="fu">filter</span>(cod_mun<span class="sc">==</span><span class="st">"11-15-063"</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(fecha,cod_mun,municipio,censo,votos_candidaturas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã 5
  fecha   cod_mun   municipio    censo votos_candidaturas
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;        &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 11-15-063 Oza dos RÃ­os  2846               2018
2 2011-11 11-15-063 Oza dos RÃ­os  2849               1973</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>datos_elecciones <span class="sc">|&gt;</span> <span class="fu">filter</span>(cod_mun<span class="sc">==</span><span class="st">"11-15-902"</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(fecha,cod_mun,municipio,censo,votos_candidaturas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã 5
  fecha   cod_mun   municipio   censo votos_candidaturas
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;dbl&gt;              &lt;dbl&gt;
1 2015-12 11-15-902 Oza-Cesuras  4660               3266
2 2016-06 11-15-902 Oza-Cesuras  4598               3098
3 2019-04 11-15-902 Oza-Cesuras  4522               3112
4 2019-11 11-15-902 Oza-Cesuras  4507               2803</code></pre>
</div>
</div>
</section>
<section id="diferencias-entre-primer-y-segundo-partido-2" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<p>Tenemos dos opciones:</p>
<ol type="1">
<li><p>No hablar de quÃ© municipio tuvo mayor diferencia en votos.</p>
<ul>
<li>Hablamos de quÃ© municipio-fecha tuvo la mayor diferencia.</li>
</ul></li>
<li><p>Quedarnos con resultados de municipios que tuvieron mÃ¡s de 2.000 censados y luego agregar los datos a nivel municipio.</p>
<ul>
<li>Nos obliga a agrupar a nivel municipio el nÃºmero de censados y la diferencia de votos (censo medio y diferencia de votos media) y hacer filtros y anÃ¡lisis sobre este nÃºmero medio.</li>
</ul></li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã 7
# Groups:   fecha, cod_mun [3]
  fecha   cod_mun   codigo_ccaa siglas votos posicion           lag_votos
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;
1 2008-03 01-04-003 01          PP      7632 MÃ¡s votado                NA
2 2008-03 01-04-003 01          PSOE    4261 Segundo mÃ¡s votado      3371
3 2008-03 01-04-006 01          PSOE    2802 MÃ¡s votado                NA
4 2008-03 01-04-006 01          PP      2226 Segundo mÃ¡s votado       576
5 2008-03 01-04-011 01          PSOE    1360 MÃ¡s votado                NA
6 2008-03 01-04-011 01          PP       730 Segundo mÃ¡s votado       630</code></pre>
</div>
</div>
<p>Se opta por la primera opciÃ³n.</p>
<ul>
<li>Un anÃ¡lisis mÃ¡s rÃ¡pido.</li>
<li>Para alterar lo menos posible los datos reales.</li>
</ul>
</section>
<section id="diferencias-entre-primer-y-segundo-partido-3" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<p>Vemos la distribuciÃ³n de votos para los registros con censo mayor a 2.000 y la distribuciÃ³n de la diferencia de votos para estos mismos municipios.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-62-1.png" width="960" class="r-stretch"></section>
<section id="diferencias-entre-primer-y-segundo-partido-4" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<p>La distribuciÃ³n del logaritmo de la diferencia de votos sigue una distribuciÃ³n normal y mucho mÃ¡s visual que la distribucion original que nos permite la bÃºsqueda de outliers.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-63-1.png" width="960" class="r-stretch"></section>
<section id="diferencias-entre-primer-y-segundo-partido-5" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<p>Para determinar los municipios-fecha con mayor diferencia de voto podemos medir esta diferencia de forma absoluta o de forma relativa.</p>
<ul>
<li>Absoluta: mÃ¡ximo nÃºmero en bruto en diferencia de votos.<br>
</li>
<li>Relativa: mÃ¡xima diferencia de votos medida sobre los censados electorales.</li>
</ul>
<p>Esta segunda forma relativiza la diferencia de votos en funciÃ³n del tamaÃ±o de la muestra. Ya que en municipios con mayor censo se espera mayor diferencia en votos.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-64-1.png" width="960" class="r-stretch"></section>
<section id="diferencias-entre-primer-y-segundo-partido-6" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>En el top cinco de mayor diferencia absoluta en votos destaca el municipio 12-28-079 (Madrid).</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   municipio   censo dif_votos_absoluta
  &lt;ord&gt;   &lt;chr&gt;       &lt;dbl&gt;              &lt;dbl&gt;
1 2011-11 Madrid    2290453             442069
2 2016-06 Madrid    2363829             329278
3 2015-12 Madrid    2371327             270065
4 2008-03 Madrid    2262681             228121
5 2008-03 Barcelona 1157357             184449</code></pre>
</div>
</div>
<p>Rankin observando para cada municipio unicamente su registro con mayor diferencia de votos absoluta/relativa.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   municipio   censo dif_votos_absoluta
  &lt;ord&gt;   &lt;chr&gt;       &lt;dbl&gt;              &lt;dbl&gt;
1 2011-11 Madrid    2290453             442069
2 2008-03 Barcelona 1157357             184449
3 2011-11 ValÃ¨ncia   574269             123301
4 2011-11 Murcia     305668             111669
5 2019-04 Sevilla    539721              61413</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   municipio              censo dif_votos_relativa
  &lt;ord&gt;   &lt;chr&gt;                  &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 CaÃ±ada Rosal            2516              0.675
2 2008-03 Luisiana, La            3605              0.544
3 2011-11 Menasalbas              2273              0.478
4 2008-03 Villanueva de la Reina  2668              0.459
5 2011-11 Cox                     4798              0.452</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>De los cinco casos con mayor diferencia absoluta de votos cuatro de ellos son del municipio 01-41-901 (CaÃ±ada Rosal).</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 4
  fecha   municipio    censo dif_votos_relativa
  &lt;ord&gt;   &lt;chr&gt;        &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 CaÃ±ada Rosal  2516              0.675
2 2008-03 Luisiana, La  3605              0.544
3 2011-11 CaÃ±ada Rosal  2626              0.530
4 2019-11 CaÃ±ada Rosal  2692              0.491
5 2019-04 CaÃ±ada Rosal  2703              0.490</code></pre>
</div>
</div>
<p>Observando en cada elecciÃ³n el municipio con mÃ¡xima diferencia en votos absoluta/relativa el ranking es el siguiente.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã 4
  fecha   municipio   censo dif_votos_absoluta
  &lt;ord&gt;   &lt;chr&gt;       &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 Madrid    2262681             228121
2 2011-11 Madrid    2290453             442069
3 2015-12 Madrid    2371327             270065
4 2016-06 Madrid    2363829             329278
5 2019-04 Madrid    2374370             113158
6 2019-11 Sevilla    539592              38475</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã 4
  fecha   municipio                 censo dif_votos_relativa
  &lt;ord&gt;   &lt;chr&gt;                     &lt;dbl&gt;              &lt;dbl&gt;
1 2008-03 CaÃ±ada Rosal               2516              0.675
2 2011-11 CaÃ±ada Rosal               2626              0.530
3 2015-12 San BartolomÃ© de la Torre  2614              0.383
4 2016-06 Marinaleda                 2195              0.427
5 2019-04 CaÃ±ada Rosal               2703              0.490
6 2019-11 CaÃ±ada Rosal               2692              0.491</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="diferencias-entre-primer-y-segundo-partido-7" class="slide level2">
<h2>Diferencias entre primer y segundo partido</h2>
<ul>
<li>Las mÃ¡ximas diferencias absolutas en votos pertenecen a las grandes ciudades.</li>
<li>Suele ser Madrid el municipio con la mÃ¡xima diferencia, sobre todo en elecciones mÃ¡s antiguas (la diferencia relativa en votos ha ido reduciÃ©ndose en cada elecciÃ³n).</li>
<li>La diferencia relativa en votos es mayor en municipios donde el censo es mÃ¡s bajo.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p>A mayor censo electoral el porcentaje de voto es menor, pero el porcentaje de votos nulos no parece seguir ninguna tendencia en funciÃ³n del censo.</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-70-1.png" width="960"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>La mayor frecuencia absoluta de votos nulos la encontramos en Madrid y Barcelona (porcentaje de votos nulos casi inexistente)</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 6
  fecha   cod_mun   municipio   censo votos_nulos p_votos_nulos
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 2011-11 12-28-079 Madrid    2290453       16527          0.01
2 2019-04 12-28-079 Madrid    2374370       13585          0.01
3 2019-11 12-28-079 Madrid    2384269       11810          0   
4 2011-11 09-08-019 Barcelona 1143219       10716          0.01
5 2016-06 12-28-079 Madrid    2363829       10570          0   </code></pre>
</div>
</div>
<ul>
<li>La mayor frecuencia relativa de votos nulos la vemos en municipios con muy poco censo electoral.</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã 6
  fecha   cod_mun   municipio   censo votos_nulos p_votos_nulos
  &lt;ord&gt;   &lt;glue&gt;    &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 2019-04 08-37-368 Villasdardo    17           4          0.24
2 2019-11 02-50-214 Pomer          18           4          0.22
3 2019-11 08-09-310 Reinoso        15           3          0.2 
4 2019-04 08-34-241 Villodre       18           3          0.17
5 2019-11 08-40-071 Encinas        39           6          0.15</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="nivel-de-participaciÃ³n-y-favorecidos" class="slide level2">
<h2>Nivel de participaciÃ³n y favorecidos</h2>
<p>Vemos la distribuciÃ³n censal por cuantil y el porcentaje medio de participaciÃ³n, dividido por el porcentaje de votos a las candidaturas, de votos en blanco y de votos nulos (porcentajes medidos como votos -de esas tres categorÃ­as- sobre el censo).</p>
<p>La participaciÃ³n baja segÃºn aumenta el censo en las poblaciones, pero el porcentaje de votos nulos no sigue esa distribuciÃ³n.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-73-1.png" width="960" class="r-stretch"></section>
<section id="nivel-de-participaciÃ³n-y-favorecidos-1" class="slide level2">
<h2>Nivel de participaciÃ³n y favorecidos</h2>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-74-1.png" width="960" class="r-stretch"></section>
<section id="nivel-de-participaciÃ³n-y-favorecidos-2" class="slide level2">
<h2>Nivel de participaciÃ³n y favorecidos</h2>
<p>Se aprecia que en las comunidades 09, 13 y 14 la distribuciÃ³n de votos se la llevan partidos polÃ­ticos que no responden al bipartidismo</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-75-1.png" width="960" class="r-stretch"></section>
<section id="nivel-de-participaciÃ³n-y-favorecidos-3" class="slide level2">
<h2>Nivel de participaciÃ³n y favorecidos</h2>
<p>En las elecciones se suele especular con que si una alta/baja participaciÃ³n a cierre de urnas o en alguno de los avances favorece a unos bloques polÃ­ticos u otros. Analizaremos para cada elecciÃ³n los resultados y niveles de participaciÃ³n en cada municipio.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-76-1.png" width="960" class="r-stretch"></section></section>
<section id="encuestas-1" class="title-slide slide level1 center">
<h1>Encuestas</h1>
<p>Desde 2008 a 2019 se han realizado 45 encuestas, con valores muestrales que van desde 750 a 45635 personas.</p>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-77-1.png" width="960" class="r-stretch"></section>

<section>
<section id="encuestas-2" class="title-slide slide level1 center">
<h1>Encuestas</h1>
<p>Dado que cada votaciÃ³n y cada encuesta presenta valores diferentes, esto las vuelve poco calibrables para los gestores de datos, se vuelve necesario hacer un anÃ¡lisis al detalle de cada elecciÃ³n para calibrar cada una de ellas.</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-78-1.png" width="960"></p>
</div>
<div class="cell-output-display">
<p><img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-78-2.png" width="960"></p>
</div>
</div>
<p></p>
</section>
<section id="encuestas-menos-precisas" class="slide level2">
<h2>Encuestas menos precisas</h2>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-79-1.png" width="960" class="r-stretch"><p>Las encuestas se equivocaron mÃ¡s en la elecciÃ³n del 2011-11, seguida del 2016-06 y 2019-11. Curiosamente en las elecciones de 2019-04 el promedio de las encuestas estuvo bastante cerca del resultado final.</p>
<p></p>
</section>
<section id="error-de-encuestas-en-partidos-de-Ã¡mbito-nacional" class="slide level2">
<h2>Error de encuestas en partidos de Ã¡mbito nacional</h2>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-80-1.png" width="960" class="r-stretch"><p>Se evidencia que las encuestas previeron resultados disÃ­miles respecto a los partidos de Ã¡mbito nacional, como aquellas del 2019, donde al PSOE lo subestiman en abril y luego lo sobrestiman en noviembre, caso contrario para el PP en el mismo rango.</p>
<p></p>
</section>
<section id="casas-encuestadoras" class="slide level2">
<h2>Casas encuestadoras</h2>

<img data-src="Entrega_grupo7.2_files/figure-revealjs/unnamed-chunk-81-1.png" width="960" class="r-stretch"><p>Se puede apreciar que las casas CIS, ENCUESTAMOS y MYWORD presentan los rangos mÃ¡s amplios de resultados, y CELESTE-TEL la que presenta mÃ¡s outliers.</p>
</section></section>
<section id="fin" class="title-slide slide level1 center">
<h1>FIN</h1>
<div class="footer footer-default">
<p>MÃ¡ster de BioestadÃ­stica â¢ G7 â¢ curso 2.023-2.024</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Entrega_grupo7.2_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"normal"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>